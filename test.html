<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8">
  <meta name="viewport" content="width=device-width, initial-scale=1.0">
  <title>Gmail</title>
  <link rel="icon" href="https://ssl.gstatic.com/ui/v1/icons/mail/rfr/gmail.ico" type="image/x-icon">
  <style>
    body { margin:0; font-family:'Segoe UI', sans-serif; background:#0f0f0f; color:#eee; transition:all 0.5s; }
    header { height:50px; background:#111; display:flex; justify-content:flex-end; align-items:center; padding:0 20px; box-shadow:0 2px 5px rgba(0,0,0,0.5); position:sticky; top:0; z-index:1000; }
    #themeBtn { padding:5px 12px; cursor:pointer; border:none; border-radius:4px; background:#222; color:#eee; font-weight:bold; transition:0.3s; }
    #themeBtn:hover { background:#444; }

    main { padding:20px; }
    section { margin-bottom:40px; }
    section h2 { margin-bottom:10px; font-size:1.4rem; border-bottom:2px solid #555; padding-bottom:5px; display:flex; align-items:center; }
    section h2 span { margin-right:10px; }

    .tiles { display:flex; flex-wrap:wrap; gap:15px; justify-content:flex-start; }
    .tile { flex: 1 1 calc(20% - 15px); min-width:140px; height:150px; background:#222; display:flex; align-items:center; justify-content:center; color:#eee; text-align:center; font-weight:bold; cursor:pointer; border-radius:8px; box-shadow:0 0 10px rgba(0,0,0,0.5); transition: all 0.3s; perspective: 1000px; }
    .tile:hover { transform: rotateX(5deg) rotateY(5deg) scale(1.05); box-shadow:0 0 15px #0ff; }

    iframe { width:100%; height:500px; border:none; margin-top:20px; border-radius:8px; }

    /* Themes */
    body[data-theme="default"] { background:#0f0f0f; color:#eee; }
    body[data-theme="dark"] { background:#111; color:#ccc; }
    body[data-theme="kuromi"] { background:#f6e6ff; color:#330033; }
    body[data-theme="cyberpunk"] { background:#0d0d20; color:#0ff; }
    body[data-theme="retro"] { background:#1a1a1a; color:#ffea00; font-family:'Press Start 2P', monospace; }
    body[data-theme="mystic"] { background:#fafafa; color:#333; }

    body[data-theme="kuromi"] .tile { background:#d6b3ff; color:#330033; }
    body[data-theme="cyberpunk"] .tile { background:#222; color:#0ff; box-shadow:0 0 5px #0ff; }
    body[data-theme="retro"] .tile { background:#333; color:#ffea00; font-family:'Press Start 2P', monospace; }
    body[data-theme="mystic"] .tile { background:#eee; color:#333; }

    /* News ticker */
    #ticker { position:fixed; bottom:0; left:0; right:0; height:30px; background:#111; color:#0ff; display:flex; align-items:center; overflow:hidden; white-space:nowrap; padding-left:10px; font-size:0.9rem; }
    #ticker span { display:inline-block; padding-right:50px; animation: ticker 30s linear infinite; }
    @keyframes ticker { 0% {transform:translateX(100%);} 100% {transform:translateX(-100%);} }

    @media(max-width:1280px){ .tile { flex: 1 1 calc(25% - 15px); } }
    @media(max-width:1024px){ .tile { flex: 1 1 calc(33% - 15px); } }
    @media(max-width:768px){ .tile { flex: 1 1 calc(50% - 15px); } }
    @media(max-width:480px){ .tile { flex: 1 1 100%; } }
  </style>
  <link href="https://fonts.googleapis.com/css2?family=Press+Start+2P&display=swap" rel="stylesheet">
</head>
<body data-theme="default">

<header><button id="themeBtn">Change Theme</button></header>
<main id="mainContent"></main>
<iframe id="previewIframe"></iframe>
<div id="ticker"><span>Loading latest updates...</span></div>

<script>
const themes = ["default","dark","kuromi","cyberpunk","retro","mystic"];
let currentTheme=0;
document.getElementById("themeBtn").addEventListener("click",()=>{
  currentTheme=(currentTheme+1)%themes.length;
  document.body.dataset.theme=themes[currentTheme];
});

const main=document.getElementById("mainContent");
const iframe=document.getElementById("previewIframe");
const categoryIcons={
  "Watchables":"ðŸŽ¬",
  "Readables":"ðŸ“š",
  "Animation":"âœ¨",
  "Daily":"ðŸŽ¯",
  "Brain Teaser":"ðŸ§©",
  "Arcade":"ðŸ•¹ï¸"
};

fetch('hubData.json')
  .then(res=>res.json())
  .then(hubData=>{
    for(const sectionName in hubData){
      const section=document.createElement("section");
      section.id=sectionName;
      const header=document.createElement("h2");
      const iconSpan=document.createElement("span");
      iconSpan.textContent=categoryIcons[sectionName]||"";
      header.appendChild(iconSpan);
      header.appendChild(document.createTextNode(sectionName));
      section.appendChild(header);

      const tileContainer=document.createElement("div");
      tileContainer.className="tiles";
      hubData[sectionName].forEach(item=>{
        const tile=document.createElement("div");
        tile.className="tile";
        tile.textContent=item.title;
        tile.dataset.url=item.url;
        tile.addEventListener("click",()=>{iframe.src=item.url;iframe.scrollIntoView({behavior:"smooth"});});
        tileContainer.appendChild(tile);
      });
      section.appendChild(tileContainer);
      main.appendChild(section);
    }
  })
  .catch(err=>console.error("Failed to load hubData.json:", err));

// Fake ticker updates
const ticker=document.querySelector("#ticker span");
setInterval(()=>{
  const now=new Date().toLocaleTimeString();
  ticker.textContent="ProjLib Hub active â€” "+now+" â€” Enjoy your browsing.";
},5000);
</script>
</body>
</html>
